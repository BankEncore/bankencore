<%# locals: membership:, editable: (true/false) %>
<% ed = local_assigns.fetch(:editable, true) %>
<tr>
  <td class="font-mono"><%= membership.try(:role_code).presence || "member" %></td>
  <td><%= link_to membership.party.display_name, party_party_path(membership.party.public_id) %></td>
  <td class="text-sm opacity-70">
    <% s = membership.try(:started_on); e = membership.try(:ended_on) %>
    <% if s || e %>(<%= [s&.to_fs(:long), e&.to_fs(:long)].compact.join(" â€“ ") %>)<% end %>
  </td>
  <td class="text-right">
    <% if ed %>
      <%= button_to "Remove",
            party_group_group_membership_path(membership.group, membership),
            method: :delete, class: "btn btn-ghost btn-xs",
            data: { turbo_confirm: "Remove member?" } %>
    <% end %>
  </td>
</tr>
